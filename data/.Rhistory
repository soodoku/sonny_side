2+2
install.packages(tidyverse)
install.packages("tidyverse")
2+2
require(tidyverse)
install.packages("rvest")
library(rvest)
url <- "https://www.reddit.com/r/politics/comments/a1j9xs/partisan_election_officials_are_inherently_unfair/"
reddit_pg <- read_html(url)
url <- "https://www.reddit.com/r/politics/comments/a1j9xs/partisan_election_officials_are_inherently_unfair/"
reddit_pg <- read_html(url)
reddit_pg %>%
html_node("title")
reddit_pg %>%
html_node("title") %>%
html_text()
reddit_pg %>%
html_nodes("p.s90z9tc-10") %>%
html_text()
reddit_pg %>%
html_nodes("p._1qeIAgB0cPwnLhDF9XSiJM") %>%
html_text()
library(stringr)
library(rvest)
library(stringr)
library(rvest)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=4"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=4"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
base_url
webpage <- read_html(base_url)
webpage
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
base_url <- "http://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, ".deptGridView a")
(entities <- as.character(html_text(entities)))
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
?html_text
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
u <-'http://myanimelist.net/anime/25731/Cross_Ange:_Tenshi_to_Ryuu_no_Rondo/stats'
a <- html(u)
b <- (html_nodes(a,"#content table")) %>% html_table(fill = T)
colnames(b[[4]]) <- b[[4]][1,] %>% unlist %>% as.character
b[[4]] <- b[[4]][2:nrow(b[[4]]),]
head(b[[4]])
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
webpage$doc
webpage$node
setwd("C:\\Users\\wguil\\OneDrive\\Documents\\GitHub\\sonny_side\\data")
# Load libs
#library(readr)
library(stringr)
library(rvest)
#New York
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_srch_results_page=1&p_captcha=19733&p_captcha_check=462441DF2806B1B3E95B0FAB0B2CE96E9A1A947A9EDBBB83BDD1A7000E532ED5828C9D723D72EAF5CE871E083632BBBE&p_entity_name=%73%6F%6E&p_name_type=%41&p_search_type=%42%45%47%49%4E%53"
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_srch_results_page=2&p_captcha=19733&p_captcha_check=462441DF2806B1B3E95B0FAB0B2CE96E9A1A947A9EDBBB83BDD1A7000E532ED5828C9D723D72EAF5CE871E083632BBBE&p_entity_name=%73%6F%6E&p_name_type=%41&p_search_type=%42%45%47%49%4E%53"
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_srch_results_page=20&p_captcha=19733&p_captcha_check=462441DF2806B1B3E95B0FAB0B2CE96E9A1A947A9EDBBB83BDD1A7000E532ED5828C9D723D72EAF5CE871E083632BBBE&p_entity_name=%73%6F%6E&p_name_type=%41&p_search_type=%42%45%47%49%4E%53"
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_srch_results_page=20&p_captcha=19733&p_captcha_check=462441DF2806B1B3E95B0FAB0B2CE96E9A1A947A9EDBBB83BDD1A7000E532ED5828C9D723D72EAF5CE871E083632BBBE&p_entity_name=%73%6F%6E&p_name_type=%41&p_search_type=%42%45%47%49%4E%53"
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=14679&p_captcha_check=D7E5AD80E045B5E3FDD3A6609046AD8240106017406DFF953D546FB6EDD844C702D68C4F5111AEC9F2D024CD5D261924&p_srch_results_page=1&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
?paste
paste("a","b")
paste("a","b", sep ="")
paste("a",1,"b", sep ="")
url <- paste(url_part1,1,url_part2)
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=14679&p_captcha_check=D7E5AD80E045B5E3FDD3A6609046AD8240106017406DFF953D546FB6EDD844C702D68C4F5111AEC9F2D024CD5D261924&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
url <- paste(url_part1,1,url_part2)
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
url
#all entities begin with son (n=500, 25rows in 20 pages)
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=14679&p_captcha_check=D7E5AD80E045B5E3FDD3A6609046AD8240106017406DFF953D546FB6EDD844C702D68C4F5111AEC9F2D024CD5D261924&p_srch_results_page=1&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
url
url <- paste(url_part1,1,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
#all entities begin with son (n=500, 25rows in 20 pages)
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=14679&p_captcha_check=D7E5AD80E045B5E3FDD3A6609046AD8240106017406DFF953D546FB6EDD844C702D68C4F5111AEC9F2D024CD5D261924&p_srch_results_page=1&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
url
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=14679&p_captcha_check=D7E5AD80E045B5E3FDD3A6609046AD8240106017406DFF953D546FB6EDD844C702D68C4F5111AEC9F2D024CD5D261924&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
url <- paste(url_part1,1,url_part2, sep ="")
url
#all entities begin with son (n=500, 25rows in 20 pages)
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=14679&p_captcha_check=D7E5AD80E045B5E3FDD3A6609046AD8240106017406DFF953D546FB6EDD844C702D68C4F5111AEC9F2D024CD5D261924&p_srch_results_page=1&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=10889&p_captcha_check=47AB3C1B3618C3556A242FF6057F252AEA535040F7E07B3508583F437399312D22C5515E9CAEAEC409812F28412A7679&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
url <- paste(url_part1,1,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
url <- paste(url_part1,10,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
#all entities begin with son (n=500, 25rows in 20 pages), do it fast cause captcha expires
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=10889&p_captcha_check=47AB3C1B3618C3556A242FF6057F252AEA535040F7E07B3508583F437399312D22C5515E9CAEAEC409812F28412A7679&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
for (i in 1:20){
print(i)
url <- paste(url_part1,10,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
}
#all entities begin with son (n=500, 25rows in 20 pages), do it fast cause captcha expires
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=10889&p_captcha_check=47AB3C1B3618C3556A242FF6057F252AEA535040F7E07B3508583F437399312D22C5515E9CAEAEC409812F28412A7679&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
for (i in 1:20){
print(i)
url <- paste(url_part1,i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
}
#all entities begin with son (n=500, 25rows in 20 pages), do it fast cause captcha expires
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=10889&p_captcha_check=47AB3C1B3618C3556A242FF6057F252AEA535040F7E07B3508583F437399312D22C5515E9CAEAEC409812F28412A7679&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
ny_begin_son_all <- c()
for (i in 1:20){
print(i)
url <- paste(url_part1,i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_begin_son_all <- c(ny_begin_son_all, entities)
}
#all entities begin with son (n=500, 25rows in 20 pages), do it fast cause captcha expires
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=11455&p_captcha_check=09CCE55B478EEA884DBBA5DB5C8BDEB337481C4E64CB2B552FEEDD34B4BA90B33896BDDF303E37CCBA6B1410FB270833&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
ny_begin_son_all <- c()
for (i in 1:20){
print(i)
url <- paste(url_part1,i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_begin_son_all <- c(ny_begin_son_all, entities)
}
ny_begin_son_all
?strsplit
#active entities begin with son
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=17563&p_captcha_check=3EC0F71D0273C26E2142DD694966562738D1683DB092B7A0F2CA14D9CB0EC621F33C6588312F5B352B4CC8FAA9502F37&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E&p_name_type=%41&p_search_type=%42%45%47%49%4E%53"
ny_begin_son_act <- c()
for (i in 1:20){
print(i)
url <- paste(url_part1,i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_begin_son_act <- c(ny_begin_son_act, entities)
}
strsplit("walter","a")
strsplit("walter","e")
strsplit("walter","lt")
#all entities begin with sons (242 in 10 pages)
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=17131&p_captcha_check=9CA5212BEC574C56DE03B23233ADE1AFEC23D7D3E6473720EC390E8E9BC0D89173F6382485A89ADC9C371A3B108AEE38&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E%73&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
ny_begin_sons_all <- c()
for (i in 1:10){
print(i)
url <- paste(url_part1,i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_begin_sons_all <- c(ny_begin_sons_all, entities)
}
#all entities contain sons (500 in 20 pages)
url_part1 <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=11955&p_captcha_check=39E89A7263D598AF9E09DDE158470F0DAD4A51BE991AA76C237B70427B4E4F5E41BD8F16FA1C2395D4D163C4A1093AA3&p_srch_results_page="
url_part2 <- "&p_entity_name=%73%6F%6E%73&p_name_type=%25&p_search_type=%43%4F%4E%54%41%49%4E%53"
ny_contain_sons_all <- c()
for (i in 1:20){
print(i)
url <- paste(url_part1,i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_contain_sons_all <- c(ny_contain_sons_all, entities)
}
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=11955&p_captcha_check=39E89A7263D598AF9E09DDE158470F0DAD4A51BE991AA76C237B70427B4E4F5E41BD8F16FA1C2395D4D163C4A1093AA3&p_srch_results_page=1&p_entity_name=%73%6F%6E%73&p_name_type=%25&p_search_type=%43%4F%4E%54%41%49%4E%53"
ul
url
strsplit(url,"srch_results_page=")
strsplit(url,"srch_results_page=")[1]
strsplit(url,"srch_results_page=")[[1]]
strsplit(url,"srch_results_page=")[[1]][1]
unlist(strsplit(url,"srch_results_page="))
unlist(strsplit(url,"srch_results_page="))[1]
unlist(strsplit(url,"srch_results_page="))[2]
#active entities contain sons
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=13141&p_captcha_check=FD134A844178E860EC88933635B1AB7C4D4A2C5D32B433C78E4E7033C01673F4DD799AF77B41DF5DA88CAD344E9D89DA&p_srch_results_page=1&p_entity_name=%73%6F%6E%73&p_name_type=%41&p_search_type=%43%4F%4E%54%41%49%4E%53"
url_part1 <- unlist(strsplit(url,"srch_results_page=1"))[1]
url_part2 <- unlist(strsplit(url,"srch_results_page="))[2]
ny_contain_sons_act <- c()
for (i in 1:20){
print(i)
url <- paste(url_part1,"srch_results_page=",i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_contain_sons_act <- c(ny_contain_sons_act, entities)
}
#active entities contain sons
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=13141&p_captcha_check=FD134A844178E860EC88933635B1AB7C4D4A2C5D32B433C78E4E7033C01673F4DD799AF77B41DF5DA88CAD344E9D89DA&p_srch_results_page=1&p_entity_name=%73%6F%6E%73&p_name_type=%41&p_search_type=%43%4F%4E%54%41%49%4E%53"
url_part1 <- unlist(strsplit(url,"srch_results_page=1"))[1]
url_part2 <- unlist(strsplit(url,"srch_results_page=1"))[2]
ny_contain_sons_act <- c()
for (i in 1:20){
print(i)
url <- paste(url_part1,"srch_results_page=",i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_contain_sons_act <- c(ny_contain_sons_act, entities)
}
#combine all ny sons/son from above
ny_son <- c(ny_begin_son_all,
ny_begin_son_act,
ny_begin_sons_all,
ny_contain_sons_all,
ny_contain_sons_act)
ny_son_dedup <- ny_son[!duplicated(ny_son)]
#all containing daughter, 231
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=18305&p_captcha_check=D9ACD705AA56A9797A0674DD45000AAF0E8BF757B73936089F201F0CDA1FB10C6165BB6D495B133D6857C4AD24C223C2&p_srch_results_page=1&p_entity_name=%64%61%75%67%68%74%65%72&p_name_type=%25&p_search_type=%43%4F%4E%54%41%49%4E%53"
url_part1 <- unlist(strsplit(url,"srch_results_page=1"))[1]
url_part2 <- unlist(strsplit(url,"srch_results_page=1"))[2]
ny_contain_daughter_all <- c()
for (i in 1:10){
print(i)
url <- paste(url_part1,"srch_results_page=",i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_contain_daughter_all <- c(ny_contain_daughter_all, entities)
}
#all containing daughters, capped at 500
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=13995&p_captcha_check=3C73DB25469DD5F792B4A1A16AD0DE194451E8E387274F5005E99DF9022AAB4424C4B36CD83E456AF640317B0169F26F&p_srch_results_page=1&p_entity_name=%64%61%75%67%68%74%65%72%73&p_name_type=%25&p_search_type=%43%4F%4E%54%41%49%4E%53"
url_part1 <- unlist(strsplit(url,"srch_results_page=1"))[1]
url_part2 <- unlist(strsplit(url,"srch_results_page=1"))[2]
ny_contain_daughters_all <- c()
for (i in 1:20){
print(i)
url <- paste(url_part1,"srch_results_page=",i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_contain_daughters_all <- c(ny_contain_daughters_all, entities)
}
#active containing daughters, 368
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=11156&p_captcha_check=9E62E9F2CF7380BD1C923C141B3EE72401C801A8748505F2FF182EE2EA0FFDA6FE47244698F32DFF69146FBC43A89F19&p_srch_results_page=1&p_entity_name=%64%61%75%67%68%74%65%72%73&p_name_type=%41&p_search_type=%43%4F%4E%54%41%49%4E%53"
url_part1 <- unlist(strsplit(url,"srch_results_page=1"))[1]
url_part2 <- unlist(strsplit(url,"srch_results_page=1"))[2]
ny_contain_daughters_act <- c()
for (i in 1:15){
print(i)
url <- paste(url_part1,"srch_results_page=",i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_contain_daughters_act <- c(ny_contain_daughters_act, entities)
}
#all beginning daughters, 99
url <- "https://appext20.dos.ny.gov/corp_public/CORPSEARCH.SELECT_ENTITY?p_captcha=14817&p_captcha_check=57858246ABB9EE0532A9F2E0410D466B20E073CD8530F61D38EBF1A01C210D518FA93ED8FC52E93AB136B7FEFCF75482&p_srch_results_page=1&p_entity_name=%64%61%75%67%68%74%65%72%73&p_name_type=%25&p_search_type=%42%45%47%49%4E%53"
url_part1 <- unlist(strsplit(url,"srch_results_page=1"))[1]
url_part2 <- unlist(strsplit(url,"srch_results_page=1"))[2]
ny_beg_daughters_all <- c()
for (i in 1:4){
print(i)
url <- paste(url_part1,"srch_results_page=",i,url_part2, sep ="")
webpage <- read_html(url)
entities <- html_nodes(webpage, "td a")
(entities <- as.character(html_text(entities)))
print(entities)
ny_beg_daughters_all <- c(ny_beg_daughters_all, entities)
}
#Combine all ny daugthers
ny_daughter <- c(ny_contain_daughter_all,
ny_contain_daughters_all,
ny_contain_daughters_act,
ny_beg_daughters_all)
ny_daughter_dedup <- ny_daughter[!duplicated(ny_daughter)]
ny_son_dedup
ny_son_dedup
ny_son_dedup[sapply(lapply(str_extract_all(tolower(ny_son_dedup), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) == 0]
ny_son_dedup[sapply(lapply(str_extract_all(tolower(ny_son_dedup), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
length(ny_son_dedup[sapply(lapply(str_extract_all(tolower(ny_son_dedup), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0])
ny_daughter_dedup[sapply(lapply(str_extract_all(tolower(ny_daughter_dedup), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0]
length(ny_daughter_dedup[sapply(lapply(str_extract_all(tolower(ny_daughter_dedup), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0])
1190/745
getwd()
?write.csv
write.csv(ny_son, "./ny/ny_son.csv")
write.csv(ny_son, "./ny/ny_son.csv")
write.csv(ny_son, "./ny/ny_son.csv", col.names = FALSE, row.names = FALSE)
write.csv(ny_son, "./ny/ny_son.csv", col.names = FALSE, row.names = FALSE)
write.csv(ny_daughter, "./ny/ny_daughter.csv", col.names = FALSE, row.names = FALSE)
