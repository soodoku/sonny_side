2+2
install.packages(tidyverse)
install.packages("tidyverse")
2+2
require(tidyverse)
install.packages("rvest")
library(rvest)
url <- "https://www.reddit.com/r/politics/comments/a1j9xs/partisan_election_officials_are_inherently_unfair/"
reddit_pg <- read_html(url)
url <- "https://www.reddit.com/r/politics/comments/a1j9xs/partisan_election_officials_are_inherently_unfair/"
reddit_pg <- read_html(url)
reddit_pg %>%
html_node("title")
reddit_pg %>%
html_node("title") %>%
html_text()
reddit_pg %>%
html_nodes("p.s90z9tc-10") %>%
html_text()
reddit_pg %>%
html_nodes("p._1qeIAgB0cPwnLhDF9XSiJM") %>%
html_text()
library(stringr)
library(rvest)
library(stringr)
library(rvest)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=4"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=4"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
base_url
webpage <- read_html(base_url)
webpage
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
base_url <- "http://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, ".deptGridView a")
(entities <- as.character(html_text(entities)))
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
?html_text
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
u <-'http://myanimelist.net/anime/25731/Cross_Ange:_Tenshi_to_Ryuu_no_Rondo/stats'
a <- html(u)
b <- (html_nodes(a,"#content table")) %>% html_table(fill = T)
colnames(b[[4]]) <- b[[4]][1,] %>% unlist %>% as.character
b[[4]] <- b[[4]][2:nrow(b[[4]]),]
head(b[[4]])
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
webpage$doc
webpage$node
# setwd
#setwd(githubdir)
#setwd("sons_and_daughters/data/")
setwd("C:\\Users\\wguil\\OneDrive\\Documents\\GitHub\\sonny_side\\data")
# Load libs
library(readr)
library(stringr)
library(rvest)
# Load libs
library(readr)
library(stringr)
library(rvest)
getwget()
getwd()
#New Hampshire
nh <- read.csv("./nh/nh_son.csv", stringsAsFactors = FALSE)
#New Hampshire
nh_son <- read.csv("./nh/nh_son.csv", stringsAsFactors = FALSE)
View(nh_son)
nh_son$Business.Name
nh_son$Business.Name[sapply(lapply(str_extract_all(tolower(nh_son$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
nh_son_dedup <- nh_son[!duplicated(nh_son$Business.Name),]
#nh_son_dedup <- nh_son[!duplicated(nh_son$Business.Name),]
nh_son$Business.Name[sapply(lapply(str_extract_all(tolower(nh_son$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
length(nh_son$Business.Name[sapply(lapply(str_extract_all(tolower(nh_son$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0])
length(nh_son$Business.Name[sapply(lapply(str_extract_all(tolower(nh_son$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0])
nh_daughter <- read.csv("./nh/nh_daughter.csv", stringsAsFactors = FALSE)
nh_daughter$Business.Name[sapply(lapply(str_extract_all(tolower(nh_daughter$Business.Name), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0]
nh_daughter$Business.Name[sapply(lapply(str_extract_all(tolower(nh_daughter$Business.Name), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) == 0]
nh_daughter$Business.Name[sapply(lapply(str_extract_all(tolower(nh_daughter$Business.Name), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0]
3203/119
#West Virginia
wv_son <- read.csv("./wv/wv_son.csv", stringsAsFactors = FALSE)
wv_son
View(wv_son)
wv_son$Name
wv_son$Name[sapply(lapply(str_extract_all(tolower(wv_son$Name), "\\w+"), function(x) str_detect(x, "^son$|^sons$")), sum) > 0]
wv_daughter <- read.csv("./wv/wv_daughter.csv", stringsAsFactors = FALSE)
wv_daughter$Name[sapply(lapply(str_extract_all(tolower(wv_daughter$Name), "\\w+"), function(x) str_detect(x, "^daughter$|^daughters$")), sum) > 0]
#New Jersey
nj_son <- read.csv("./nj/nj_son.csv", stringsAsFactors = FALSE)
nj_son_dedup <- nj_son[!duplicated(nj_son$Business.Name),]
nj_son_dedup$Business.Name[sapply(lapply(str_extract_all(tolower(nj_son_dedup$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
nj_daughter <- read.csv("./nj/nj_daughter.csv", stringsAsFactors = FALSE)
nj_daughter$Business.Name[sapply(lapply(str_extract_all(tolower(nj_daughter$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
nj_daughter$Business.Name[sapply(lapply(str_extract_all(tolower(nj_daughter$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) == 0]
nj_daughter$Business.Name[sapply(lapply(str_extract_all(tolower(nj_daughter$Business.Name), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) == 0]
nj_daughter$Business.Name[sapply(lapply(str_extract_all(tolower(nj_daughter$Business.Name), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0]
