2+2
install.packages(tidyverse)
install.packages("tidyverse")
2+2
require(tidyverse)
install.packages("rvest")
library(rvest)
url <- "https://www.reddit.com/r/politics/comments/a1j9xs/partisan_election_officials_are_inherently_unfair/"
reddit_pg <- read_html(url)
url <- "https://www.reddit.com/r/politics/comments/a1j9xs/partisan_election_officials_are_inherently_unfair/"
reddit_pg <- read_html(url)
reddit_pg %>%
html_node("title")
reddit_pg %>%
html_node("title") %>%
html_text()
reddit_pg %>%
html_nodes("p.s90z9tc-10") %>%
html_text()
reddit_pg %>%
html_nodes("p._1qeIAgB0cPwnLhDF9XSiJM") %>%
html_text()
library(stringr)
library(rvest)
library(stringr)
library(rvest)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=4"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=4"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
base_url
webpage <- read_html(base_url)
webpage
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
base_url <- "http://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, ".deptGridView a")
(entities <- as.character(html_text(entities)))
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
?html_text
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
u <-'http://myanimelist.net/anime/25731/Cross_Ange:_Tenshi_to_Ryuu_no_Rondo/stats'
a <- html(u)
b <- (html_nodes(a,"#content table")) %>% html_table(fill = T)
colnames(b[[4]]) <- b[[4]][1,] %>% unlist %>% as.character
b[[4]] <- b[[4]][2:nrow(b[[4]]),]
head(b[[4]])
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
webpage$doc
webpage$node
# setwd
#setwd(githubdir)
#setwd("sons_and_daughters/data/")
setwd("C:\\Users\\wguil\\OneDrive\\Documents\\GitHub\\sonny_side\\data")
# Load libs
#library(readr)
library(stringr)
library(rvest)
# Load libs
library(readr)
# Load libs
library(readr)
library(stringr)
library(rvest)
#Wyoming
wy_db <- read.csv("wy/FILING.csv", stringsAsFactors = FALSE, sep = "|", row.names = NULL, na.strings = "")
#Wyoming
wy_db <- read.csv("wy/FILING.csv", stringsAsFactors = FALSE, sep = "|", row.names = NULL, na.strings = "")
#Wyoming
wy_db <- read.csv("wy/FILING_edited.csv", stringsAsFactors = FALSE, sep = "|", row.names = NULL, na.strings = "")
wy_db <- wy_db[!is.na(wy_db$FILING_NAME),] #remove rows with no name
wy_db <- wy_db[order(wy_db$FILING_NAME),]
wy_db$FILING_NAME
wy_db$FILING_NAME[sapply(lapply(str_extract_all(tolower(wy_db$FILING_NAME), "\\w+"), function(x) str_detect(x, "^daughter$|^daughters$")), sum) > 0]
wy_db$FILING_NAME[sapply(lapply(str_extract_all(tolower(wy_db$FILING_NAME), "\\w+"), function(x) str_detect(x, "^son$|^sons$")), sum) > 0]
238/21
