2+2
install.packages(tidyverse)
install.packages("tidyverse")
2+2
require(tidyverse)
install.packages("rvest")
library(rvest)
url <- "https://www.reddit.com/r/politics/comments/a1j9xs/partisan_election_officials_are_inherently_unfair/"
reddit_pg <- read_html(url)
url <- "https://www.reddit.com/r/politics/comments/a1j9xs/partisan_election_officials_are_inherently_unfair/"
reddit_pg <- read_html(url)
reddit_pg %>%
html_node("title")
reddit_pg %>%
html_node("title") %>%
html_text()
reddit_pg %>%
html_nodes("p.s90z9tc-10") %>%
html_text()
reddit_pg %>%
html_nodes("p._1qeIAgB0cPwnLhDF9XSiJM") %>%
html_text()
library(stringr)
library(rvest)
library(stringr)
library(rvest)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=4"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=4"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
base_url
webpage <- read_html(base_url)
webpage
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
base_url <- "http://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, ".deptGridView a")
(entities <- as.character(html_text(entities)))
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
(entities <- as.character(html_text(entities)))
?html_text
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
u <-'http://myanimelist.net/anime/25731/Cross_Ange:_Tenshi_to_Ryuu_no_Rondo/stats'
a <- html(u)
b <- (html_nodes(a,"#content table")) %>% html_table(fill = T)
colnames(b[[4]]) <- b[[4]][1,] %>% unlist %>% as.character
b[[4]] <- b[[4]][2:nrow(b[[4]]),]
head(b[[4]])
html_text(entities)
# Alaska AK
base_url <- "https://www.commerce.alaska.gov/cbp/main/Search/EntitiesResults?EntityName=son&IsStartsWithSearch=False&CurrentOnly=False&&pageNumber=1"
webpage <- read_html(base_url)
entities <- html_nodes(webpage, "td:nth-child(3)")
entities
webpage
webpage$doc
webpage$node
# Georgia
# Gaurav did selenium and I am pulling csv from 7z file
ga_son <- read.csv("./ga/ga_son.csv", stringsAsFactors = FALSE)
setwd("C:\\Users\\wguil\\OneDrive\\Documents\\GitHub\\sonny_side\\data")
# Load libs
library(readr)
library(stringr)
library(rvest)
setwd("C:\\Users\\wguil\\OneDrive\\Documents\\GitHub\\sonny_side\\data")
# Load libs
library(readr)
library(stringr)
library(rvest)
# Georgia
# Gaurav did selenium and I am pulling csv from 7z file
ga_son <- read.csv("./ga/ga_son.csv", stringsAsFactors = FALSE)
ga_son_dedup <- ga_dat[!duplicated(ga_dat$Business.Name),]
ga_son_dedup <- ga_son[!duplicated(ga_son$Business.Name),]
ga_son$Business.Name[sapply(lapply(str_extract_all(tolower(ga_son$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
length(ga_son$Business.Name[sapply(lapply(str_extract_all(tolower(ga_son$Business.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0])
ga_daughter <- read.csv("./ga/ga_daughter.csv", stringsAsFactors = FALSE)
ga_daughter$Business.Name[sapply(lapply(str_extract_all(tolower(ga_daughter$Business.Name), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0]
# Illinois
il_son <- read.csv("./il/il_son.csv", stringsAsFactors = FALSE)
il_son$Corporation.LLC.Name[sapply(lapply(str_extract_all(tolower(il_son$Corporation.LLC.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
length(il_son$Corporation.LLC.Name[sapply(lapply(str_extract_all(tolower(il_son$Corporation.LLC.Name), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0])
il_daughter <- read.csv("./il/il_daughter.csv", stringsAsFactors = FALSE)
il_daughter$Corporation.LLC.Name[sapply(lapply(str_extract_all(tolower(il_daughter$Corporation.LLC.Name), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0]
il_daughter$Name[sapply(lapply(str_extract_all(tolower(il_daughter$Name), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0]
#Utah
ut_son <- read.csv("./ut/ut_son.csv", stringsAsFactors = FALSE)
View(ut_son)
#Utah
ut_son <- read.csv("./ut/ut_son.csv", stringsAsFactors = FALSE)
View(ut_son)
ut_son$Header[sapply(lapply(str_extract_all(tolower(ut_son$Header), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
ut_son$Header[sapply(lapply(str_extract_all(tolower(ut_son$Header), "\\w+"), function(x) str_detect(x, "^sons$|^son$")), sum) > 0]
ut_daughter <- read.csv("./ut/ut_daughter.csv", stringsAsFactors = FALSE)
ut_daughter$Header[sapply(lapply(str_extract_all(tolower(ut_daughter$Header), "\\w+"), function(x) str_detect(x, "^daughters$|^daughter$")), sum) > 0]
81/16
